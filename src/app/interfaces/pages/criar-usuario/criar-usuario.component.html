<button type="button" class="btn-voltar" (click)="voltar()">← Voltar</button>
<form [formGroup]="form" (ngSubmit)="criarUsuario()" class="form-container">
  <h2>Criação de Usuário</h2>
<div class="input-row">
  <div class="input-item">
    <input formControlName="nome" id="nome" placeholder="Nome" [ngClass]="{'input-error': campoInvalido('nome')}" />
    <small *ngIf="campoInvalido('nome')" class="error-message">O nome é obrigatório.</small>
  </div>

  <div class="input-item">
    <input formControlName="email" id="email" placeholder="Email" [ngClass]="{'input-error': campoInvalido('email')}" />
    <small *ngIf="campoInvalido('email')" class="error-message">Informe um email válido.</small>
  </div>
</div>

<div class="input-row">
  <div class="input-item">
    <input formControlName="senha" type="password" placeholder="Senha" id="senha" [ngClass]="{'input-error': campoInvalido('senha')}" />
    <small *ngIf="campoInvalido('senha')" class="error-message">
      A senha deve ter pelo menos 5 caracteres e conter um número.
    </small>
  </div>

  <div class="input-item">
    <select formControlName="role" id="role" [ngClass]="{'input-error': campoInvalido('role')}">
      <option value="">Selecione o tipo de usuário</option>
      <option value="USUARIO_COMUM">Usuário Comum</option>
      <option value="ADMIN">Administrador</option>
    </select>
    <small *ngIf="campoInvalido('role')" class="error-message">A permissão é obrigatória.</small>
  </div>
</div>

  <div formArrayName="enderecos" class="enderecos-container">
    <div *ngFor="let endereco of enderecoFormGroups; let i = index" class="endereco-card">
      <app-endereco-form [form]="endereco"></app-endereco-form>
      <button type="button" class="btn-remover" (click)="removerEndereco(i)">Remover Endereço</button>
    </div>
  </div>

  <button type="button" class="btn-adicionar" (click)="adicionarEndereco()">Adicionar Endereço</button>
  <button type="submit" class="btn-salvar">Salvar</button>
</form>
